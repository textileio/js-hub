## API Report File for "@textile/hub"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AbortController as AbortController_2 } from 'abort-controller';
import { AbortSignal as AbortSignal_2 } from 'abort-controller';
import { BaseNameOrCode } from 'multibase';
import type CID from 'cids';
import { ContextInterface } from '@textile/context';
import { DeleteInboxMessageRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { DeleteInboxMessageResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { DeleteSentboxMessageRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { DeleteSentboxMessageResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { GetThreadRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { grpc } from '@improbable-eng/grpc-web';
import { GrpcConnection } from '@textile/grpc-connection';
import { JSONSchema3or4 } from 'to-json-schema';
import { ListInboxMessagesRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ListInboxMessagesResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ListSentboxMessagesRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ListSentboxMessagesResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ListThreadsRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import * as pb from '@textile/threads-client-grpc/threads_pb';
import { ReadInboxMessageRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ReadInboxMessageResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ReadTransactionReply } from '@textile/threads-client-grpc/threads_pb';
import { ReadTransactionRequest } from '@textile/threads-client-grpc/threads_pb';
import { SendMessageRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { SendMessageResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { SetupMailboxRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { SetupMailboxResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { WriteTransactionReply } from '@textile/threads-client-grpc/threads_pb';
import { WriteTransactionRequest } from '@textile/threads-client-grpc/threads_pb';

export { AbortController_2 as AbortController }

// @public (undocumented)
export const AbortError: Error;

export { AbortSignal_2 as AbortSignal }

// @public (undocumented)
export enum Action {
    // (undocumented)
    CREATE = 0,
    // (undocumented)
    DELETE = 2,
    // (undocumented)
    SAVE = 1
}

// @public
export interface AddressInfo {
    address: string;
    balance: bigint;
    name: string;
    type: string;
}

// @public
export type APISig = {
    sig: string;
    msg: string;
};

// @public
export interface Archive {
    aborted: boolean;
    abortedMsg: string;
    cid: string;
    createdAt: Date;
    dealInfo: Array<ArchiveDealInfo>;
    failureMsg: string;
    jobId: string;
    status: ArchiveStatus;
}

// @public
export interface ArchiveConfig {
    countryCodes: Array<string>;
    dealMinDuration: number;
    dealStartOffset: number;
    excludedMiners: Array<string>;
    fastRetrieval: boolean;
    maxPrice: number;
    renew?: ArchiveRenew;
    repFactor: number;
    trustedMiners: Array<string>;
    verifiedDeal: boolean;
}

// @public
export interface ArchiveDealInfo {
    activationEpoch: number;
    dealId: number;
    duration: number;
    message: string;
    miner: string;
    pieceCid: string;
    pricePerEpoch: number;
    proposalCid: string;
    size: number;
    startEpoch: number;
    stateId: number;
    stateName: string;
}

// @public
export interface ArchiveOptions {
    archiveConfig?: ArchiveConfig;
}

// @public
export interface ArchiveRenew {
    enabled: boolean;
    threshold: number;
}

// @public
export interface Archives {
    current?: Archive;
    history: Array<Archive>;
}

// @public
export enum ArchiveStatus {
    Canceled = 4,
    Executing = 2,
    Failed = 3,
    Queued = 1,
    Success = 5,
    Unspecified = 0
}

// Warning: (ae-incompatible-release-tags) The symbol "Buckets" is marked as @public, but its signature references "GrpcAuthentication" which is marked as @internal
//
// @public
export class Buckets extends GrpcAuthentication {
    // @beta
    archive(key: string, options?: ArchiveOptions, skipAutomaticVerifiedDeal?: boolean): Promise<void>;
    // @beta
    archives(key: string): Promise<Archives>;
    // @beta
    archiveWatch(key: string, callback: (reply?: {
        id: string | undefined;
        msg: string;
    }, err?: Error) => void): Promise<() => void>;
    static copyAuth(auth: GrpcAuthentication, options?: CopyAuthOptions): Buckets;
    create(name: string, options?: CreateOptions): Promise<CreateResponse>;
    // @beta
    defaultArchiveConfig(key: string): Promise<ArchiveConfig>;
    existing(threadID?: string): Promise<Root[]>;
    getOrCreate(name: string, options?: GetOrCreateOptions): Promise<GetOrCreateResponse>;
    // @deprecated
    getOrInit(name: string, threadName?: string, encrypted?: boolean, threadID?: string): Promise<{
        root?: Root;
        threadID?: string;
    }>;
    getToken(identity: Identity): Promise<string>;
    getTokenChallenge(publicKey: string, callback: (challenge: Uint8Array) => Uint8Array | Promise<Uint8Array>): Promise<string>;
    // @deprecated
    init(name: string, encrypted?: boolean): Promise<CreateResponse>;
    links(key: string, path?: string): Promise<Links>;
    list(): Promise<Root[]>;
    listIpfsPath(path: string): Promise<PathItem | undefined>;
    listPath(key: string, path: string, depth?: number): Promise<Path>;
    listPathFlat(key: string, path: string, dirs?: boolean, depth?: number): Promise<Array<string>>;
    movePath(key: string, fromPath: string, toPath: string): Promise<void>;
    // @deprecated
    open(name: string, threadName?: string, encrypted?: boolean, threadID?: string): Promise<{
        root?: Root;
        threadID?: string;
    }>;
    pullIpfsPath(path: string, options?: {
        progress?: (num?: number) => void;
    }): AsyncIterableIterator<Uint8Array>;
    pullPath(key: string, path: string, options?: {
        progress?: (num?: number) => void;
    }): AsyncIterableIterator<Uint8Array>;
    pullPathAccessRoles(key: string, path?: string): Promise<Map<string, 0 | 1 | 2 | 3>>;
    pushPath(key: string, path: string, input: any, options?: PushOptions): Promise<PushPathResult>;
    pushPathAccessRoles(key: string, path: string, roles: Map<string, PathAccessRole>): Promise<void>;
    pushPaths(key: string, input: any, options?: PushOptions): AsyncIterableIterator<PushPathsResult>;
    remove(key: string): Promise<void>;
    removePath(key: string, path: string, options?: RemovePathOptions): Promise<RemovePathResponse>;
    root(key: string): Promise<Root | undefined>;
    // @beta
    setDefaultArchiveConfig(key: string, config: ArchiveConfig): Promise<void>;
    setPath(key: string, path: string, cid: string): Promise<void>;
    setToken(token: string): Promise<void>;
    static withKeyInfo(key: KeyInfo, options?: WithKeyInfoOptions): Promise<Buckets>;
    withThread(threadID?: string): void;
    static withUserAuth(auth: UserAuth | (() => Promise<UserAuth>), options?: WithUserAuthOptions): Buckets;
}

// @public (undocumented)
export interface BuckMetadata {
    // (undocumented)
    roles: Map<string, PathAccessRole>;
    // (undocumented)
    updatedAt: number;
}

// @public
export function bytesToArray(chunk: Uint8Array, size?: number): Uint8Array[];

// @public
export interface CidInfo {
    cid: string;
    currentStorageInfo?: StorageInfo;
    executingStorageJob?: StorageJob;
    latestStorageConfig?: StorageConfig;
    queuedStorageJobs: StorageJob[];
}

// @public
export interface CidSummary {
    cid: string;
    executingJob?: string;
    queuedJobs: string[];
    stored: boolean;
}

// @public
export class Client {
    constructor(context?: ContextInterface, debug?: boolean);
    // (undocumented)
    context: ContextInterface;
    create(threadID: ThreadID, collectionName: string, values: any[]): Promise<string[]>;
    delete(threadID: ThreadID, collectionName: string, IDs: string[]): Promise<void>;
    deleteCollection(threadID: ThreadID, name: string): Promise<void>;
    deleteDB(threadID: ThreadID): Promise<void>;
    find<T = unknown>(threadID: ThreadID, collectionName: string, query: QueryJSON): Promise<T[]>;
    findByID<T = unknown>(threadID: ThreadID, collectionName: string, ID: string): Promise<T>;
    getCollectionIndexes(threadID: ThreadID, name: string): Promise<pb.Index.AsObject[]>;
    // (undocumented)
    getCollectionInfo(threadID: ThreadID, name: string): Promise<CollectionConfig>;
    getDBInfo(threadID: ThreadID): Promise<DBInfo>;
    getToken(identity: Identity, ctx?: ContextInterface): Promise<string>;
    getTokenChallenge(publicKey: string, callback: (challenge: Uint8Array) => Uint8Array | Promise<Uint8Array>, ctx?: ContextInterface): Promise<string>;
    has(threadID: ThreadID, collectionName: string, IDs: string[]): Promise<boolean>;
    joinFromInfo(info: DBInfo, includeLocal?: boolean, collections?: Array<CollectionConfig>): Promise<ThreadID>;
    listCollections(thread: ThreadID): Promise<Array<pb.GetCollectionInfoReply.AsObject>>;
    listDBs(): Promise<Array<{
        id: string;
        name?: string;
    }>>;
    listen<T = any>(threadID: ThreadID, filters: Filter[], callback: (reply?: Update<T>, err?: Error) => void): grpc.Request;
    newCollection(threadID: ThreadID, config: CollectionConfig): Promise<void>;
    newCollectionFromObject(threadID: ThreadID, obj: Record<string, any>, config: Omit<CollectionConfig, 'schema'>): Promise<void>;
    newDB(threadID?: ThreadID, name?: string): Promise<ThreadID>;
    newDBFromAddr(address: string, key: string | Uint8Array, collections?: Array<CollectionConfig>): Promise<ThreadID>;
    open(threadID: ThreadID, name?: string): Promise<void>;
    readTransaction(threadID: ThreadID, collectionName: string): ReadTransaction;
    // (undocumented)
    rpcOptions: grpc.RpcOptions;
    save(threadID: ThreadID, collectionName: string, values: any[]): Promise<void>;
    // (undocumented)
    serviceHost: string;
    updateCollection(threadID: ThreadID, config: CollectionConfig): Promise<void>;
    verify(threadID: ThreadID, collectionName: string, values: any[]): Promise<void>;
    static withKeyInfo(key: KeyInfo, host?: string, debug?: boolean): Promise<Client>;
    static withUserAuth(auth: UserAuth | (() => Promise<UserAuth>), host?: string, debug?: boolean): Client;
    writeTransaction(threadID: ThreadID, collectionName: string): WriteTransaction;
}

// @public
export interface ColdConfig {
    enabled: boolean;
    filecoin?: FilConfig;
}

// @public
export interface ColdInfo {
    enabled: boolean;
    filecoin?: FilInfo;
}

// @public
export interface CollectionConfig<W = any, R = W> {
    // (undocumented)
    indexes?: pb.Index.AsObject[];
    // (undocumented)
    name: string;
    // (undocumented)
    readFilter?: ((reader: string, instance: R) => R) | string;
    // (undocumented)
    schema?: JSONSchema3or4 | any;
    // Warning: (ae-forgotten-export) The symbol "Event" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    writeValidator?: ((writer: string, event: Event_2, instance: W) => boolean) | string;
}

// @public
export interface CopyAuthOptions {
    debug?: boolean;
}

// @public
export function createAPISig(secret: string, date?: Date): Promise<APISig>;

// @public @deprecated (undocumented)
export type CreateObject = CreateResponse;

// @public (undocumented)
export interface CreateOptions {
    cid?: string;
    encrypted?: boolean;
}

// @public
export interface CreateResponse {
    // (undocumented)
    links?: Links;
    // (undocumented)
    root?: Root;
    // (undocumented)
    seed: Uint8Array;
    // (undocumented)
    seedCid: string;
}

// @public
export function createUserAuth(key: string, secret: string, date?: Date, token?: string): Promise<UserAuth>;

// @public
export interface CriterionJSON {
    // (undocumented)
    fieldPath?: string;
    // Warning: (ae-forgotten-export) The symbol "ComparisonJSON" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    operation?: ComparisonJSON;
    // (undocumented)
    query?: QueryJSON;
    // (undocumented)
    value?: ValueJSON;
}

// @public
export interface CustomerResponse {
    // (undocumented)
    accountStatus: string;
    // (undocumented)
    accountType: number;
    // (undocumented)
    balance: number;
    // (undocumented)
    billable: boolean;
    // (undocumented)
    createdAt: number;
    // (undocumented)
    customerId: string;
    // (undocumented)
    dailyUsageMap: Array<[string, Usage]>;
    // (undocumented)
    delinquent: boolean;
    // (undocumented)
    dependents: number;
    // (undocumented)
    email: string;
    // (undocumented)
    gracePeriodEnd: number;
    // (undocumented)
    invoicePeriod?: Period;
    // (undocumented)
    key: string;
    // (undocumented)
    parentKey: string;
    // (undocumented)
    subscriptionStatus: string;
}

// @public (undocumented)
export interface CustomerUsage {
    // (undocumented)
    usageMap: [string, Usage][];
}

// @public
export interface DBInfo {
    addrs: string[];
    key: string;
}

// @public
export interface DealError {
    message: string;
    miner: string;
    proposalCid: string;
}

// @public
export interface DealRecordsConfig {
    ascending: boolean;
    dataCids: string[];
    fromAddrs: string[];
    includeFinal: boolean;
    includePending: boolean;
}

// @public
export function decrypt(ciphertext: Uint8Array, privKey: Uint8Array, type?: string): Promise<Uint8Array>;

// Warning: (ae-internal-missing-underscore) The name "deleteInboxMessage" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function deleteInboxMessage(api: GrpcConnection, id: string, ctx?: ContextInterface): Promise<void>;

export { DeleteInboxMessageRequest }

export { DeleteInboxMessageResponse }

// Warning: (ae-internal-missing-underscore) The name "deleteSentboxMessage" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function deleteSentboxMessage(api: GrpcConnection, id: string, ctx?: ContextInterface): Promise<void>;

export { DeleteSentboxMessageRequest }

export { DeleteSentboxMessageResponse }

// @public
export function encrypt(data: Uint8Array, pubKey: Uint8Array, type?: string): Promise<Uint8Array>;

// @public (undocumented)
export const errors: {
    invalidKeyError: Error;
};

// @public
export function extractPublicKeyBytes(key: Public): Uint8Array;

// @public
export interface FilConfig {
    address: string;
    countryCodes: string[];
    dealMinDuration: number;
    dealStartOffset: number;
    excludedMiners: string[];
    fastRetrieval: boolean;
    maxPrice: number;
    renew?: FilRenew;
    replicationFactor: number;
    trustedMiners: string[];
}

// Warning: (ae-incompatible-release-tags) The symbol "Filecoin" is marked as @public, but its signature references "GrpcAuthentication" which is marked as @internal
//
// @public
export class Filecoin extends GrpcAuthentication {
    // @beta
    addresses(): Promise<AddressInfo[]>;
    // @beta
    balance(address: string): Promise<bigint>;
    // @beta
    cidInfo(cid: string): Promise<CidInfo>;
    // @beta
    cidSummary(...cids: string[]): Promise<CidSummary[]>;
    static copyAuth(auth: GrpcAuthentication, options?: CopyAuthOptions): Filecoin;
    getToken(identity: Identity): Promise<string>;
    getTokenChallenge(publicKey: string, callback: (challenge: Uint8Array) => Uint8Array | Promise<Uint8Array>): Promise<string>;
    // @beta
    retrievalDealRecords(config: DealRecordsConfig): Promise<RetrievalDealRecord[]>;
    setToken(token: string): Promise<void>;
    // @beta
    storageDealRecords(config: DealRecordsConfig): Promise<StorageDealRecord[]>;
    static withKeyInfo(key: KeyInfo, options?: WithKeyInfoOptions): Promise<Filecoin>;
    static withUserAuth(auth: UserAuth | (() => Promise<UserAuth>), options?: WithUserAuthOptions): Filecoin;
}

// @public
export interface FilInfo {
    dataCid: string;
    proposals: FilStorage[];
    size: number;
}

// @public
export interface FilRenew {
    enabled: boolean;
    threshold: number;
}

// @public
export interface FilStorage {
    dealId: number;
    duration: number;
    epochPrice: number;
    miner: string;
    pieceCid: string;
    renewed: boolean;
    startEpoch: number;
}

// @public
export interface Filter {
    actionTypes?: string[];
    collectionName?: string;
    instanceID?: string;
}

// Warning: (ae-internal-missing-underscore) The name "getMailboxID" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function getMailboxID(api: GrpcConnection, ctx?: ContextInterface): Promise<string>;

// @public
export interface GetOrCreateOptions {
    cid?: string;
    encrypted?: boolean;
    threadID?: string;
    threadName?: string;
}

// @public
export interface GetOrCreateResponse {
    root?: Root;
    threadID?: string;
}

// Warning: (ae-internal-missing-underscore) The name "getThread" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function getThread(api: GrpcConnection, name: string, ctx?: ContextInterface): Promise<GetThreadResponse>;

export { GetThreadRequest }

// @public (undocumented)
export interface GetThreadResponse {
    // (undocumented)
    id: string;
    // (undocumented)
    name?: string;
}

// @public @deprecated (undocumented)
export type GetThreadResponseObj = GetThreadResponse;

// Warning: (ae-internal-missing-underscore) The name "getUsage" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function getUsage(api: GrpcConnection, options?: UsageOptions, ctx?: ContextInterface): Promise<GetUsageResponse>;

// @public (undocumented)
export interface GetUsageResponse {
    // (undocumented)
    customer?: CustomerResponse;
    // (undocumented)
    usage?: CustomerUsage;
}

// Warning: (ae-internal-missing-underscore) The name "GrpcAuthentication" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export class GrpcAuthentication extends GrpcConnection {
    static copyAuth(auth: GrpcAuthentication, options?: CopyAuthOptions): GrpcAuthentication;
    getToken(identity: Identity): Promise<string>;
    getTokenChallenge(publicKey: string, callback: (challenge: Uint8Array) => Uint8Array | Promise<Uint8Array>): Promise<string>;
    setToken(token: string): Promise<void>;
    static withKeyInfo(key: KeyInfo, options?: WithKeyInfoOptions): Promise<GrpcAuthentication>;
    withThread(threadID?: string): void;
    static withUserAuth(auth: UserAuth | (() => Promise<UserAuth>), options?: WithUserAuthOptions): GrpcAuthentication;
}

// @public
export interface HotConfig {
    allowUnfreeze: boolean;
    enabled: boolean;
    ipfs?: IpfsConfig;
    unfreezeMaxPrice: number;
}

// @public
export interface HotInfo {
    enabled: boolean;
    ipfs?: IpfsHotInfo;
    size: number;
}

// @public
export interface Identity {
    public: Public;
    sign(data: Uint8Array): Promise<Uint8Array>;
}

// @public
export interface InboxListOptions {
    // (undocumented)
    ascending?: boolean;
    // (undocumented)
    limit?: number;
    // (undocumented)
    seek?: string;
    // (undocumented)
    status?: Status;
}

// @public
export interface IpfsConfig {
    addTimeout: number;
}

// @public
export interface IpfsHotInfo {
    created: Date;
}

// @public
export enum JobStatus {
    Canceled = 4,
    Executing = 2,
    Failed = 3,
    Queued = 1,
    Success = 5,
    Unspecified = 0
}

// @public
export const keyFromString: (k: string) => Uint8Array;

// @public
export type KeyInfo = {
    key: string;
    secret?: string;
};

// @public
export const keyToString: (k: Uint8Array) => string;

// @public
export interface Links {
    // (undocumented)
    ipns: string;
    // (undocumented)
    url: string;
    // (undocumented)
    www: string;
}

// @public @deprecated (undocumented)
export type LinksObject = Links;

// Warning: (ae-internal-missing-underscore) The name "listInboxMessages" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function listInboxMessages(api: GrpcConnection, opts?: InboxListOptions, ctx?: ContextInterface): Promise<Array<UserMessage>>;

export { ListInboxMessagesRequest }

export { ListInboxMessagesResponse }

// @public
export function listPathFlat(grpc: GrpcConnection, bucketKey: string, path: string, dirs: boolean, depth: number): Promise<Array<string>>;

// @public
export function listPathRecursive(grpc: GrpcConnection, bucketKey: string, path: string, depth: number, currentDepth?: number): Promise<Path>;

// Warning: (ae-internal-missing-underscore) The name "listSentboxMessages" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function listSentboxMessages(api: GrpcConnection, opts?: SentboxListOptions, ctx?: ContextInterface): Promise<Array<UserMessage>>;

export { ListSentboxMessagesRequest }

export { ListSentboxMessagesResponse }

// Warning: (ae-internal-missing-underscore) The name "listThreads" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function listThreads(api: GrpcConnection, ctx?: ContextInterface): Promise<Array<GetThreadResponse>>;

export { ListThreadsRequest }

// @public
export interface MailboxEvent {
    // (undocumented)
    message?: UserMessage;
    // (undocumented)
    messageID: string;
    // (undocumented)
    type: MailboxEventType;
}

// @public
export enum MailboxEventType {
    // (undocumented)
    CREATE = 0,
    // (undocumented)
    DELETE = 2,
    // (undocumented)
    SAVE = 1
}

// @public
export const MailConfig: {
    ThreadName: string;
    InboxCollectionName: string;
    SentboxCollectionName: string;
};

// @public @deprecated (undocumented)
export type MetadataObject = BuckMetadata;

// @public
export interface Path {
    // (undocumented)
    item?: PathItem;
    // (undocumented)
    root?: Root;
}

// @public (undocumented)
export enum PathAccessRole {
    // (undocumented)
    PATH_ACCESS_ROLE_ADMIN = 3,
    // (undocumented)
    PATH_ACCESS_ROLE_READER = 1,
    // (undocumented)
    PATH_ACCESS_ROLE_UNSPECIFIED = 0,
    // (undocumented)
    PATH_ACCESS_ROLE_WRITER = 2
}

// @public
export interface PathItem {
    // (undocumented)
    cid: string;
    // (undocumented)
    count: number;
    // (undocumented)
    isDir: boolean;
    // (undocumented)
    items: Array<PathItem>;
    // (undocumented)
    metadata?: BuckMetadata;
    // (undocumented)
    name: string;
    // (undocumented)
    path: string;
    // (undocumented)
    size: number;
}

// @public @deprecated (undocumented)
export type PathItemObject = PathItem;

// @public @deprecated (undocumented)
export type PathObject = Path;

// @public (undocumented)
export interface Period {
    // (undocumented)
    unixEnd: number;
    // (undocumented)
    unixStart: number;
}

// @public
export interface Private extends Identity {
    bytes: Uint8Array;
}

// @public
export class PrivateKey implements Private {
    constructor(secretKey: Uint8Array, type?: string);
    get bytes(): Uint8Array;
    canSign(): boolean;
    decrypt(ciphertext: Uint8Array): Promise<Uint8Array>;
    static fromRandom(): PrivateKey;
    static fromRawEd25519Seed(rawSeed: Uint8Array): PrivateKey;
    static fromString(str: string): PrivateKey;
    privKey: Uint8Array;
    pubKey: Uint8Array;
    get public(): PublicKey;
    seed: Uint8Array;
    sign(data: Uint8Array): Promise<Uint8Array>;
    toString(): string;
    // (undocumented)
    type: string;
}

// @public
export function privateKeyBytesToString(bytes: Uint8Array): string;

// @public
export function privateKeyFromString(str: string): Uint8Array;

// @public
export function privateKeyToString(key: Private): string;

// @public
export interface Public {
    bytes: Uint8Array;
    verify(data: Uint8Array, sig: Uint8Array): Promise<boolean>;
}

// @public
export class PublicKey implements Public {
    constructor(pubKey: Uint8Array, type?: string);
    get bytes(): Uint8Array;
    encrypt(data: Uint8Array): Promise<Uint8Array>;
    static fromString(str: string): PublicKey;
    // (undocumented)
    pubKey: Uint8Array;
    toString(): string;
    // (undocumented)
    type: string;
    verify(data: Uint8Array, signature: Uint8Array): Promise<boolean>;
}

// @public
export function publicKeyBytesFromString(str: string): Uint8Array;

// @public
export function publicKeyBytesToString(bytes: Uint8Array): string;

// @public
export function publicKeyToString(key: Public): string;

// @public
export interface PushOptions {
    progress?: (num?: number) => void;
    root?: Root | string;
    signal?: AbortSignal;
}

// @public
export interface PushPathResult {
    // (undocumented)
    path: {
        path: string;
        cid: CID;
        root: CID;
        remainder: string;
    };
    // (undocumented)
    root: string;
}

// @public
export interface PushPathsResult {
    // (undocumented)
    cid: CID;
    // (undocumented)
    path: string;
    // (undocumented)
    pinned: number;
    // (undocumented)
    root?: Root;
    // (undocumented)
    size: number;
}

// @public
export class Query implements QueryJSON {
    constructor(ands?: CriterionJSON[], ors?: QueryJSON[], sort?: SortJSON | undefined);
    and(fieldPath: string): Criterion;
    // (undocumented)
    ands: CriterionJSON[];
    // (undocumented)
    index?: string;
    // (undocumented)
    limit?: number;
    limitTo(limit: number): Query;
    or(query: Query): Query;
    orderBy(fieldPath: string): Query;
    orderByDesc(fieldPath: string): Query;
    orderByID(): Query;
    orderByIDDesc(): Query;
    // (undocumented)
    ors: QueryJSON[];
    // (undocumented)
    seek?: string;
    seekID(id: string): Query;
    // (undocumented)
    skip?: number;
    skipNum(num: number): Query;
    // (undocumented)
    sort?: SortJSON | undefined;
    useIndex(fieldPath: string): Query;
    // Warning: (ae-forgotten-export) The symbol "Criterion" needs to be exported by the entry point index.d.ts
    static where(fieldPath: string): Criterion;
}

// @public
export interface QueryJSON {
    // (undocumented)
    ands?: CriterionJSON[];
    // (undocumented)
    index?: string;
    // (undocumented)
    limit?: number;
    // (undocumented)
    ors?: QueryJSON[];
    // (undocumented)
    seek?: string;
    // (undocumented)
    skip?: number;
    // (undocumented)
    sort?: SortJSON;
}

// @public (undocumented)
export const randomBytes: (byteLength: number) => Uint8Array;

// Warning: (ae-internal-missing-underscore) The name "readInboxMessage" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function readInboxMessage(api: GrpcConnection, id: string, ctx?: ContextInterface): Promise<{
    readAt: number;
}>;

export { ReadInboxMessageRequest }

export { ReadInboxMessageResponse }

// Warning: (ae-forgotten-export) The symbol "Transaction" needs to be exported by the entry point index.d.ts
//
// @public
export class ReadTransaction extends Transaction<ReadTransactionRequest, ReadTransactionReply> {
    constructor(context: ContextInterface, client: grpc.Client<ReadTransactionRequest, ReadTransactionReply>, threadID: ThreadID, modelName: string);
    // (undocumented)
    protected readonly client: grpc.Client<ReadTransactionRequest, ReadTransactionReply>;
    // (undocumented)
    protected readonly context: ContextInterface;
    find<T = unknown>(query: QueryJSON): Promise<Array<T>>;
    findByID<T = unknown>(ID: string): Promise<T | undefined>;
    has(IDs: string[]): Promise<boolean>;
    // (undocumented)
    protected readonly modelName: string;
    start(): Promise<void>;
    // (undocumented)
    protected readonly threadID: ThreadID;
}

// @public
export interface RemovePathOptions {
    // (undocumented)
    root?: Root | string;
}

// @public
export interface RemovePathResponse {
    pinned: number;
    root?: Root;
}

// @public
export interface RetrievalDealInfo {
    // (undocumented)
    miner: string;
    // (undocumented)
    minerPeerId: string;
    // (undocumented)
    minPrice: number;
    // (undocumented)
    paymentInterval: number;
    // (undocumented)
    paymentIntervalIncrease: number;
    rootCid: string;
    size: number;
}

// @public
export interface RetrievalDealRecord {
    // (undocumented)
    address: string;
    // (undocumented)
    dealInfo?: RetrievalDealInfo;
    // (undocumented)
    time: Date;
}

// @public
export interface Root {
    // (undocumented)
    createdAt: number;
    // (undocumented)
    key: string;
    // (undocumented)
    name: string;
    // (undocumented)
    path: string;
    // (undocumented)
    thread: string;
    // (undocumented)
    updatedAt: number;
}

// @public @deprecated (undocumented)
export type RootObject = Root;

// Warning: (ae-internal-missing-underscore) The name "sendMessage" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function sendMessage(api: GrpcConnection, from: string, to: string, toBody: Uint8Array, toSignature: Uint8Array, fromBody: Uint8Array, fromSignature: Uint8Array, ctx?: ContextInterface): Promise<UserMessage>;

export { SendMessageRequest }

export { SendMessageResponse }

// @public
export interface SentboxListOptions {
    // (undocumented)
    ascending?: boolean;
    // (undocumented)
    limit?: number;
    // (undocumented)
    seek?: string;
}

// Warning: (ae-internal-missing-underscore) The name "setupMailbox" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function setupMailbox(api: GrpcConnection, ctx?: ContextInterface): Promise<string>;

export { SetupMailboxRequest }

export { SetupMailboxResponse }

// @public
export interface SortJSON {
    // (undocumented)
    desc: boolean;
    // (undocumented)
    fieldPath: string;
}

// @public
export enum Status {
    // (undocumented)
    ALL = 0,
    // (undocumented)
    READ = 1,
    // (undocumented)
    UNREAD = 2
}

// @public
export interface StorageConfig {
    cold?: ColdConfig;
    hot?: HotConfig;
    repairable: boolean;
}

// @public
export interface StorageDealInfo {
    activationEpoch: number;
    dealId: number;
    duration: number;
    message: string;
    miner: string;
    pieceCid: string;
    pricePerEpoch: number;
    proposalCid: string;
    size: number;
    startEpoch: number;
    stateId: number;
    stateName: string;
}

// @public
export interface StorageDealRecord {
    address: string;
    dealInfo?: StorageDealInfo;
    pending: boolean;
    rootCid: string;
    time: Date;
}

// @public
export interface StorageInfo {
    cid: string;
    cold?: ColdInfo;
    created: Date;
    hot?: HotInfo;
    jobId: string;
}

// @public
export interface StorageJob {
    apiId: string;
    cid: string;
    createdAt: Date;
    dealErrors: DealError[];
    dealInfo: StorageDealInfo[];
    errorCause: string;
    id: string;
    status: JobStatus;
}

// @public
export class ThreadID {
    constructor(buf: Uint8Array);
    // (undocumented)
    readonly buf: Uint8Array;
    equals(o: ThreadID): boolean;
    static fromBytes(data: Uint8Array): ThreadID;
    static fromRandom(variant?: Variant, size?: number): ThreadID;
    static fromString(v: string | Uint8Array): ThreadID;
    static getEncoding(v: string): string;
    isDefined(): boolean;
    toBytes(): Uint8Array;
    toString(base?: BaseNameOrCode): string;
    static V1: number;
    // (undocumented)
    static Variant: typeof Variant;
    variant(): number;
    version(): number;
}

// @public
export class ThreadKey {
    constructor(service: Uint8Array, read?: Uint8Array | undefined);
    // (undocumented)
    canRead(): boolean;
    static fromBytes(bytes: Uint8Array): ThreadKey;
    static fromRandom(withRead?: boolean): ThreadKey;
    static fromString(s: string): ThreadKey;
    // (undocumented)
    isDefined(): boolean;
    // (undocumented)
    readonly read?: Uint8Array | undefined;
    // (undocumented)
    readonly service: Uint8Array;
    // (undocumented)
    toBytes(): Uint8Array;
    toString(): string;
}

// @public (undocumented)
export interface Update<T = unknown> {
    // (undocumented)
    action: Action;
    // (undocumented)
    collectionName: string;
    // (undocumented)
    instance: T | undefined;
    // (undocumented)
    instanceID: string;
}

// @public (undocumented)
export interface Usage {
    // (undocumented)
    cost: number;
    // (undocumented)
    description: string;
    // (undocumented)
    free: number;
    // (undocumented)
    grace: number;
    // (undocumented)
    period?: Period;
    // (undocumented)
    total: number;
    // (undocumented)
    units: number;
}

// @public
export interface UsageOptions {
    dependentUserKey?: string;
}

// @public
export type UserAuth = {
    key: string;
    sig: string;
    msg: string;
    token?: string;
};

// @public
export interface UserMessage {
    // (undocumented)
    body: Uint8Array;
    // (undocumented)
    createdAt: number;
    // (undocumented)
    from: string;
    // (undocumented)
    id: string;
    // (undocumented)
    readAt?: number;
    // (undocumented)
    signature: Uint8Array;
    // (undocumented)
    to: string;
}

// Warning: (ae-incompatible-release-tags) The symbol "Users" is marked as @public, but its signature references "GrpcAuthentication" which is marked as @internal
//
// @public
export class Users extends GrpcAuthentication {
    static copyAuth(auth: GrpcAuthentication, options?: CopyAuthOptions): Users;
    deleteInboxMessage(id: string): Promise<void>;
    deleteSentboxMessage(id: string): Promise<void>;
    getMailboxID(): Promise<string>;
    getThread(name: string): Promise<GetThreadResponse>;
    getToken(identity: Identity): Promise<string>;
    getTokenChallenge(publicKey: string, callback: (challenge: Uint8Array) => Uint8Array | Promise<Uint8Array>): Promise<string>;
    getUsage(options?: UsageOptions): Promise<GetUsageResponse>;
    listInboxMessages(opts?: InboxListOptions): Promise<Array<UserMessage>>;
    listSentboxMessages(opts?: SentboxListOptions): Promise<Array<UserMessage>>;
    listThreads(): Promise<Array<GetThreadResponse>>;
    readInboxMessage(id: string): Promise<{
        readAt: number;
    }>;
    sendMessage(from: Identity, to: Public, body: Uint8Array): Promise<UserMessage>;
    setToken(token: string): Promise<void>;
    setupMailbox(): Promise<string>;
    watchInbox(id: string, callback: (reply?: MailboxEvent, err?: Error) => void): grpc.Request;
    watchSentbox(id: string, callback: (reply?: MailboxEvent, err?: Error) => void): grpc.Request;
    static withKeyInfo(key: KeyInfo, options?: WithKeyInfoOptions): Promise<Users>;
    withThread(threadID?: string): void;
    static withUserAuth(auth: UserAuth | (() => Promise<UserAuth>), options?: WithUserAuthOptions): Users;
}

// @public
export interface ValueJSON {
    // (undocumented)
    bool?: boolean;
    // (undocumented)
    float?: number;
    // (undocumented)
    string?: string;
}

// @public
export enum Variant {
    // (undocumented)
    AccessControlled = 112,
    // (undocumented)
    Raw = 85
}

// Warning: (ae-internal-missing-underscore) The name "watchMailbox" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function watchMailbox(api: GrpcConnection, id: string, box: 'inbox' | 'sentbox', callback: (reply?: MailboxEvent, err?: Error) => void, ctx?: ContextInterface): grpc.Request;

// @public
export const Where: typeof Criterion;

// @public
export interface WithKeyInfoOptions extends WithUserAuthOptions {
    date?: Date;
    debug?: boolean;
    host?: string;
}

// @public
export interface WithUserAuthOptions extends CopyAuthOptions {
    debug?: boolean;
    host?: string;
}

// @public
export class WriteTransaction extends Transaction<WriteTransactionRequest, WriteTransactionReply> {
    constructor(context: ContextInterface, client: grpc.Client<WriteTransactionRequest, WriteTransactionReply>, threadID: ThreadID, modelName: string);
    // (undocumented)
    protected readonly client: grpc.Client<WriteTransactionRequest, WriteTransactionReply>;
    // (undocumented)
    protected readonly context: ContextInterface;
    create<T = unknown>(values: T[]): Promise<string[]>;
    delete(IDs: string[]): Promise<void>;
    discard(): Promise<void>;
    find<T = unknown>(query: QueryJSON): Promise<Array<T>>;
    findByID<T = unknown>(ID: string): Promise<T | undefined>;
    has(IDs: string[]): Promise<boolean>;
    // (undocumented)
    protected readonly modelName: string;
    save<T = unknown>(values: T[]): Promise<void>;
    start(): Promise<void>;
    // (undocumented)
    protected readonly threadID: ThreadID;
    verify<T = unknown>(values: T[]): Promise<void>;
}


```
