## API Report File for "@textile/hub"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { AbortSignal as AbortSignal_2 } from 'abort-controller';
import { AddressesResponse } from '@textile/grpc-powergate-client/dist/powergate/user/v1/user_pb';
import { ArchiveInfoResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { ArchiveResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { ArchiveStatusResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { ArchiveWatchResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { BalanceResponse } from '@textile/grpc-powergate-client/dist/powergate/user/v1/user_pb';
import CID from 'cids';
import { CidInfoResponse } from '@textile/grpc-powergate-client/dist/powergate/user/v1/user_pb';
import { ContextInterface } from '@textile/context';
import { CreateResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { DealRecordsConfig } from '@textile/grpc-powergate-client/dist/powergate/user/v1/user_pb';
import { DeleteInboxMessageRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { DeleteInboxMessageResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { DeleteSentboxMessageRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { DeleteSentboxMessageResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { GetThreadRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { GetThreadResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { grpc } from '@improbable-eng/grpc-web';
import { GrpcConnection } from '@textile/grpc-connection';
import { JSONSchema3or4 } from 'to-json-schema';
import { LinksResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { ListInboxMessagesRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ListInboxMessagesResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ListIpfsPathResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { ListPathResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { ListResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { ListSentboxMessagesRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ListSentboxMessagesResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ListThreadsRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ListThreadsResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { Metadata } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { name as name_2 } from 'multibase';
import { PathItem } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import * as pb from '@textile/threads-client-grpc/threads_pb';
import { PullIpfsPathResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { PullPathResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { PushPathResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { ReadInboxMessageRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ReadInboxMessageResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { ReadTransactionReply } from '@textile/threads-client-grpc/threads_pb';
import { ReadTransactionRequest } from '@textile/threads-client-grpc/threads_pb';
import { RemovePathResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { RemoveResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { RetrievalDealRecordsResponse } from '@textile/grpc-powergate-client/dist/powergate/user/v1/user_pb';
import { Root } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { RootResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { SendMessageRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { SendMessageResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { SetPathResponse } from '@textile/buckets-grpc/api/bucketsd/pb/bucketsd_pb';
import { SetupMailboxRequest } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { SetupMailboxResponse } from '@textile/users-grpc/api/usersd/pb/usersd_pb';
import { StorageDealRecordsResponse } from '@textile/grpc-powergate-client/dist/powergate/user/v1/user_pb';
import { WriteTransactionReply } from '@textile/threads-client-grpc/threads_pb';
import { WriteTransactionRequest } from '@textile/threads-client-grpc/threads_pb';

// @public (undocumented)
export const AbortError: Error;

// @public (undocumented)
export enum Action {
    // (undocumented)
    CREATE = 0,
    // (undocumented)
    DELETE = 2,
    // (undocumented)
    SAVE = 1
}

// @public
export type APISig = {
    sig: string;
    msg: string;
};

// @public
export interface ArchiveConfig {
    addr: string;
    countryCodes: Array<string>;
    dealMinDuration: number;
    dealStartOffset: number;
    excludedMiners: Array<string>;
    fastRetrieval: boolean;
    maxPrice: number;
    renew?: ArchiveRenew;
    repFactor: number;
    trustedMiners: Array<string>;
}

// @public
export type ArchiveDealInfo = {
    proposalCid: string;
    miner: string;
};

// @public
export type ArchiveInfo = {
    key: string;
    cid?: string;
    deals: Array<ArchiveDealInfo>;
};

export { ArchiveInfoResponse }

// @public
export interface ArchiveOptions {
    archiveConfig?: ArchiveConfig;
}

// @public
export interface ArchiveRenew {
    enabled: boolean;
    threshold: number;
}

export { ArchiveResponse }

// @public
export type ArchiveStatus = {
    key: string;
    status: StatusCode;
    failedMsg: string;
};

export { ArchiveStatusResponse }

export { ArchiveWatchResponse }

// Warning: (ae-incompatible-release-tags) The symbol "Buckets" is marked as @public, but its signature references "GrpcAuthentication" which is marked as @internal
//
// @public
export class Buckets extends GrpcAuthentication {
    // @beta
    archive(key: string, options?: ArchiveOptions): Promise<void>;
    // @beta
    archiveInfo(key: string): Promise<ArchiveInfo>;
    // @beta
    archiveStatus(key: string): Promise<ArchiveStatus>;
    // @beta
    archiveWatch(key: string, callback: (reply?: {
        id: string | undefined;
        msg: string;
    }, err?: Error) => void): Promise<() => void>;
    static copyAuth(auth: GrpcAuthentication, options?: CopyAuthOptions): Buckets;
    create(name: string, options?: CreateOptions): Promise<CreateObject>;
    // @beta
    defaultArchiveConfig(key: string): Promise<ArchiveConfig>;
    getOrCreate(name: string, options?: GetOrCreateOptions): Promise<{
        root?: RootObject;
        threadID?: string;
    }>;
    // @internal (undocumented)
    _getOrCreate(name: string, threadName?: string, encrypted?: boolean, cid?: string, threadID?: string): Promise<{
        root?: RootObject;
        threadID?: string;
    }>;
    // @deprecated
    getOrInit(name: string, threadName?: string, encrypted?: boolean, threadID?: string): Promise<{
        root?: RootObject;
        threadID?: string;
    }>;
    getToken(identity: Identity): Promise<string>;
    getTokenChallenge(publicKey: string, callback: (challenge: Uint8Array) => Uint8Array | Promise<Uint8Array>): Promise<string>;
    // @deprecated
    init(name: string, encrypted?: boolean): Promise<CreateObject>;
    links(key: string, path?: string): Promise<LinksObject>;
    list(): Promise<RootObject[]>;
    listIpfsPath(path: string): Promise<PathItemObject | undefined>;
    listPath(key: string, path: string, depth?: number): Promise<PathObject>;
    listPathFlat(key: string, path: string, dirs?: boolean, depth?: number): Promise<Array<string>>;
    // @deprecated
    open(name: string, threadName?: string, encrypted?: boolean, threadID?: string): Promise<{
        root?: RootObject;
        threadID?: string;
    }>;
    pullIpfsPath(path: string, options?: {
        progress?: (num?: number) => void;
    }): AsyncIterableIterator<Uint8Array>;
    pullPath(key: string, path: string, options?: {
        progress?: (num?: number) => void;
    }): AsyncIterableIterator<Uint8Array>;
    pullPathAccessRoles(key: string, path?: string): Promise<Map<string, 0 | 1 | 2 | 3>>;
    pushPath(key: string, path: string, input: any, options?: PushOptions): Promise<PushPathResult>;
    pushPathAccessRoles(key: string, path: string, roles: Map<string, PathAccessRole>): Promise<void>;
    remove(key: string): Promise<void>;
    removePath(key: string, path: string, root?: string): Promise<void>;
    root(key: string): Promise<RootObject | undefined>;
    // @beta
    setDefaultArchiveConfig(key: string, config: ArchiveConfig): Promise<void>;
    setPath(key: string, path: string, cid: string): Promise<void>;
    static withKeyInfo(key: KeyInfo, options?: WithKeyInfoOptions): Promise<Buckets>;
    withThread(threadID?: string): void;
    static withUserAuth(auth: UserAuth | (() => Promise<UserAuth>), options?: WithUserAuthOptions): Buckets;
}

// Warning: (ae-internal-missing-underscore) The name "bucketsArchive" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsArchive(api: GrpcConnection, key: string, options?: ArchiveOptions, ctx?: ContextInterface): Promise<void>;

// Warning: (ae-internal-missing-underscore) The name "bucketsArchiveInfo" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsArchiveInfo(api: GrpcConnection, key: string, ctx?: ContextInterface): Promise<ArchiveInfo>;

// Warning: (ae-internal-missing-underscore) The name "bucketsArchiveStatus" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsArchiveStatus(api: GrpcConnection, key: string, ctx?: ContextInterface): Promise<ArchiveStatus>;

// Warning: (ae-internal-missing-underscore) The name "bucketsArchiveWatch" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsArchiveWatch(api: GrpcConnection, key: string, callback: (reply?: {
    id: string | undefined;
    msg: string;
}, err?: Error) => void, ctx?: ContextInterface): Promise<() => void>;

// @public
export function bucketsCreate(api: GrpcConnection, name: string, isPrivate?: boolean, cid?: string, ctx?: ContextInterface): Promise<CreateObject>;

// Warning: (ae-internal-missing-underscore) The name "bucketsDefaultArchiveConfig" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function bucketsDefaultArchiveConfig(api: GrpcConnection, key: string, ctx?: ContextInterface): Promise<ArchiveConfig>;

// @public
export class BucketsGrpcClient {
    constructor(context?: ContextInterface, debug?: boolean);
    // (undocumented)
    context: ContextInterface;
    // (undocumented)
    rpcOptions: grpc.RpcOptions;
    // (undocumented)
    serviceHost: string;
    // (undocumented)
    unary<R extends grpc.ProtobufMessage, T extends grpc.ProtobufMessage, M extends grpc.UnaryMethodDefinition<R, T>>(methodDescriptor: M, req: R, ctx?: ContextInterface): Promise<T>;
}

// Warning: (ae-internal-missing-underscore) The name "bucketsLinks" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsLinks(api: GrpcConnection, key: string, path: string, ctx?: ContextInterface): Promise<LinksObject>;

// Warning: (ae-internal-missing-underscore) The name "bucketsList" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsList(api: GrpcConnection, ctx?: ContextInterface): Promise<Array<RootObject>>;

// Warning: (ae-internal-missing-underscore) The name "bucketsListIpfsPath" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsListIpfsPath(api: GrpcConnection, path: string, ctx?: ContextInterface): Promise<PathItemObject | undefined>;

// Warning: (ae-internal-missing-underscore) The name "bucketsListPath" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsListPath(api: GrpcConnection, key: string, path: string, ctx?: ContextInterface): Promise<PathObject>;

// Warning: (ae-internal-missing-underscore) The name "bucketsPullIpfsPath" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsPullIpfsPath(api: GrpcConnection, path: string, opts?: {
    progress?: (num?: number) => void;
}, ctx?: ContextInterface): AsyncIterableIterator<Uint8Array>;

// Warning: (ae-internal-missing-underscore) The name "bucketsPullPath" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsPullPath(api: GrpcConnection, key: string, path: string, opts?: {
    progress?: (num?: number) => void;
}, ctx?: ContextInterface): AsyncIterableIterator<Uint8Array>;

// @public (undocumented)
export function bucketsPullPathAccessRoles(api: GrpcConnection, key: string, path?: string, ctx?: ContextInterface): Promise<Map<string, 0 | 1 | 2 | 3>>;

// Warning: (ae-internal-missing-underscore) The name "bucketsPushPath" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsPushPath(api: GrpcConnection, key: string, path: string, input: any, opts?: PushOptions, ctx?: ContextInterface): Promise<PushPathResult>;

// @public (undocumented)
export function bucketsPushPathAccessRoles(api: GrpcConnection, key: string, path: string, roles: Map<string, PathAccessRole>, ctx?: ContextInterface): Promise<void>;

// Warning: (ae-internal-missing-underscore) The name "bucketsRemove" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsRemove(api: GrpcConnection, key: string, ctx?: ContextInterface): Promise<void>;

// Warning: (ae-internal-missing-underscore) The name "bucketsRemovePath" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsRemovePath(api: GrpcConnection, key: string, path: string, root?: string, ctx?: ContextInterface): Promise<void>;

// Warning: (ae-internal-missing-underscore) The name "bucketsRoot" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsRoot(api: GrpcConnection, key: string, ctx?: ContextInterface): Promise<RootObject | undefined>;

// Warning: (ae-internal-missing-underscore) The name "bucketsSetDefaultArchiveConfig" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function bucketsSetDefaultArchiveConfig(api: GrpcConnection, key: string, config: ArchiveConfig, ctx?: ContextInterface): Promise<void>;

// Warning: (ae-internal-missing-underscore) The name "bucketsSetPath" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function bucketsSetPath(api: GrpcConnection, key: string, path: string, cid: string, ctx?: ContextInterface): Promise<void>;

// @public
export function bytesToArray(chunk: Uint8Array, size?: number): Uint8Array[];

// @public
export class Client {
    constructor(context?: ContextInterface, debug?: boolean);
    // (undocumented)
    context: ContextInterface;
    create(threadID: ThreadID, collectionName: string, values: any[]): Promise<string[]>;
    delete(threadID: ThreadID, collectionName: string, IDs: string[]): Promise<void>;
    deleteCollection(threadID: ThreadID, name: string): Promise<void>;
    deleteDB(threadID: ThreadID): Promise<void>;
    find<T = unknown>(threadID: ThreadID, collectionName: string, query: QueryJSON): Promise<T[]>;
    findByID<T = unknown>(threadID: ThreadID, collectionName: string, ID: string): Promise<T>;
    getCollectionIndexes(threadID: ThreadID, name: string): Promise<pb.Index.AsObject[]>;
    // (undocumented)
    getCollectionInfo(threadID: ThreadID, name: string): Promise<CollectionConfig>;
    getDBInfo(threadID: ThreadID): Promise<DBInfo>;
    getToken(identity: Identity, ctx?: ContextInterface): Promise<string>;
    getTokenChallenge(publicKey: string, callback: (challenge: Uint8Array) => Uint8Array | Promise<Uint8Array>, ctx?: ContextInterface): Promise<string>;
    has(threadID: ThreadID, collectionName: string, IDs: string[]): Promise<boolean>;
    joinFromInfo(info: DBInfo, includeLocal?: boolean, collections?: Array<CollectionConfig>): Promise<ThreadID>;
    listCollections(thread: ThreadID): Promise<Array<pb.GetCollectionInfoReply.AsObject>>;
    listDBs(): Promise<Record<string, pb.GetDBInfoReply.AsObject | undefined>>;
    listen<T = any>(threadID: ThreadID, filters: Filter[], callback: (reply?: Update<T>, err?: Error) => void): grpc.Request;
    newCollection(threadID: ThreadID, config: CollectionConfig): Promise<void>;
    newCollectionFromObject(threadID: ThreadID, obj: Record<string, any>, config: Omit<CollectionConfig, "schema">): Promise<void>;
    newDB(threadID?: ThreadID, name?: string): Promise<ThreadID>;
    newDBFromAddr(address: string, key: string | Uint8Array, collections?: Array<CollectionConfig>): Promise<ThreadID>;
    open(threadID: ThreadID, name?: string): Promise<void>;
    readTransaction(threadID: ThreadID, collectionName: string): ReadTransaction;
    // (undocumented)
    rpcOptions: grpc.RpcOptions;
    save(threadID: ThreadID, collectionName: string, values: any[]): Promise<void>;
    // (undocumented)
    serviceHost: string;
    updateCollection(threadID: ThreadID, config: CollectionConfig): Promise<void>;
    verify(threadID: ThreadID, collectionName: string, values: any[]): Promise<void>;
    static withKeyInfo(key: KeyInfo, host?: string, debug?: boolean): Promise<Client>;
    static withUserAuth(auth: UserAuth | (() => Promise<UserAuth>), host?: string, debug?: boolean): Client;
    writeTransaction(threadID: ThreadID, collectionName: string): WriteTransaction;
}

// @public
export interface CollectionConfig<W = any, R = W> {
    // (undocumented)
    indexes?: pb.Index.AsObject[];
    // (undocumented)
    name: string;
    // (undocumented)
    readFilter?: ((reader: string, instance: R) => R) | string;
    // (undocumented)
    schema?: JSONSchema3or4 | any;
    // Warning: (ae-forgotten-export) The symbol "Event" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    writeValidator?: ((writer: string, event: Event_2, instance: W) => boolean) | string;
}

// @public
export interface CopyAuthOptions {
    debug?: boolean;
}

// @public
export function createAPISig(secret: string, date?: Date): Promise<APISig>;

// @public
export type CreateObject = {
    seed: Uint8Array;
    seedCid: string;
    root?: RootObject;
    links?: LinksObject;
};

// @public (undocumented)
export interface CreateOptions {
    cid?: string;
    encrypted?: boolean;
}

export { CreateResponse }

// @public
export function createUserAuth(key: string, secret: string, date?: Date, token?: string): Promise<UserAuth>;

// @public
export interface CriterionJSON {
    // (undocumented)
    fieldPath?: string;
    // Warning: (ae-forgotten-export) The symbol "ComparisonJSON" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    operation?: ComparisonJSON;
    // (undocumented)
    query?: QueryJSON;
    // (undocumented)
    value?: ValueJSON;
}

// @public
export interface DBInfo {
    addrs: string[];
    key: string;
}

// @public
export function decrypt(ciphertext: Uint8Array, privKey: Uint8Array, type?: string): Promise<Uint8Array>;

// Warning: (ae-internal-missing-underscore) The name "deleteInboxMessage" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function deleteInboxMessage(api: GrpcConnection, id: string, ctx?: ContextInterface): Promise<void>;

export { DeleteInboxMessageRequest }

export { DeleteInboxMessageResponse }

// Warning: (ae-internal-missing-underscore) The name "deleteSentboxMessage" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function deleteSentboxMessage(api: GrpcConnection, id: string, ctx?: ContextInterface): Promise<void>;

export { DeleteSentboxMessageRequest }

export { DeleteSentboxMessageResponse }

// @public
export function encrypt(data: Uint8Array, pubKey: Uint8Array, type?: string): Promise<Uint8Array>;

// @public
export const expirationError: Error;

// @public
export function extractPublicKeyBytes(key: Public): Uint8Array;

// @public
export interface Filter {
    actionTypes?: string[];
    collectionName?: string;
    instanceID?: string;
}

// Warning: (ae-internal-missing-underscore) The name "getMailboxID" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function getMailboxID(api: GrpcConnection, ctx?: ContextInterface): Promise<string>;

// @public
export interface GetOrCreateOptions {
    cid?: string;
    encrypted?: boolean;
    threadID?: string;
    threadName?: string;
}

// Warning: (ae-internal-missing-underscore) The name "getThread" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function getThread(api: GrpcConnection, name: string, ctx?: ContextInterface): Promise<GetThreadResponseObj>;

export { GetThreadRequest }

export { GetThreadResponse }

// @public
export interface GetThreadResponseObj {
    // (undocumented)
    id: ThreadID;
    // (undocumented)
    isDB: boolean;
    // (undocumented)
    name: string;
}

// Warning: (ae-internal-missing-underscore) The name "GrpcAuthentication" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export class GrpcAuthentication extends GrpcConnection {
    static copyAuth(auth: GrpcAuthentication, options?: CopyAuthOptions): GrpcAuthentication;
    getToken(identity: Identity): Promise<string>;
    getTokenChallenge(publicKey: string, callback: (challenge: Uint8Array) => Uint8Array | Promise<Uint8Array>): Promise<string>;
    static withKeyInfo(key: KeyInfo, options?: WithKeyInfoOptions): Promise<GrpcAuthentication>;
    withThread(threadID?: string): void;
    static withUserAuth(auth: UserAuth | (() => Promise<UserAuth>), options?: WithUserAuthOptions): GrpcAuthentication;
}

// @public
export interface Identity {
    public: Public;
    sign(data: Uint8Array): Promise<Uint8Array>;
}

// @public
export interface InboxListOptions {
    // (undocumented)
    ascending?: boolean;
    // (undocumented)
    limit?: number;
    // (undocumented)
    seek?: string;
    // (undocumented)
    status?: Status;
}

// @public (undocumented)
export const invalidKeyError: Error;

// @public
export const keyFromString: (k: string) => Buffer;

// @public
export type KeyInfo = {
    key: string;
    secret?: string;
};

// @public
export const keyToString: (k: Uint8Array) => string;

// @public
export type LinksObject = {
    www: string;
    ipns: string;
    url: string;
};

export { LinksResponse }

// Warning: (ae-internal-missing-underscore) The name "listInboxMessages" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function listInboxMessages(api: GrpcConnection, opts?: InboxListOptions, ctx?: ContextInterface): Promise<Array<UserMessage>>;

export { ListInboxMessagesRequest }

export { ListInboxMessagesResponse }

export { ListIpfsPathResponse }

// @public
export function listPathFlat(grpc: GrpcConnection, bucketKey: string, path: string, dirs: boolean, depth: number): Promise<Array<string>>;

// @public
export function listPathRecursive(grpc: GrpcConnection, bucketKey: string, path: string, depth: number, currentDepth?: number): Promise<PathObject>;

export { ListPathResponse }

export { ListResponse }

// Warning: (ae-internal-missing-underscore) The name "listSentboxMessages" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function listSentboxMessages(api: GrpcConnection, opts?: SentboxListOptions, ctx?: ContextInterface): Promise<Array<UserMessage>>;

export { ListSentboxMessagesRequest }

export { ListSentboxMessagesResponse }

// Warning: (ae-internal-missing-underscore) The name "listThreads" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function listThreads(api: GrpcConnection, ctx?: ContextInterface): Promise<Array<GetThreadResponseObj>>;

export { ListThreadsRequest }

export { ListThreadsResponse }

// @public
export interface MailboxEvent {
    // (undocumented)
    message?: UserMessage;
    // (undocumented)
    messageID: string;
    // (undocumented)
    type: MailboxEventType;
}

// @public
export enum MailboxEventType {
    // (undocumented)
    CREATE = 0,
    // (undocumented)
    DELETE = 2,
    // (undocumented)
    SAVE = 1
}

// @public
export const MailConfig: {
    ThreadName: string;
    InboxCollectionName: string;
    SentboxCollectionName: string;
};

export { Metadata }

// @public (undocumented)
export type MetadataObject = {
    roles: Map<string, PathAccessRole>;
    updatedAt: number;
};

// @public (undocumented)
export enum PathAccessRole {
    // (undocumented)
    PATH_ACCESS_ROLE_ADMIN = 3,
    // (undocumented)
    PATH_ACCESS_ROLE_READER = 1,
    // (undocumented)
    PATH_ACCESS_ROLE_UNSPECIFIED = 0,
    // (undocumented)
    PATH_ACCESS_ROLE_WRITER = 2
}

export { PathItem }

// @public
export type PathItemObject = {
    cid: string;
    name: string;
    path: string;
    size: number;
    isDir: boolean;
    items: Array<PathItemObject>;
    count: number;
    metadata?: MetadataObject;
};

// @public
export type PathObject = {
    item?: PathItemObject;
    root?: RootObject;
};

// Warning: (ae-incompatible-release-tags) The symbol "Pow" is marked as @public, but its signature references "GrpcAuthentication" which is marked as @internal
//
// @public
export class Pow extends GrpcAuthentication {
    // @beta
    addresses(): Promise<AddressesResponse.AsObject>;
    // @beta
    balance(address: string): Promise<BalanceResponse.AsObject>;
    // @beta
    cidInfo(...cids: string[]): Promise<CidInfoResponse.AsObject>;
    static copyAuth(auth: GrpcAuthentication, options?: CopyAuthOptions): Pow;
    getToken(identity: Identity): Promise<string>;
    getTokenChallenge(publicKey: string, callback: (challenge: Uint8Array) => Uint8Array | Promise<Uint8Array>): Promise<string>;
    // @beta
    retrievalDealRecords(config: DealRecordsConfig.AsObject): Promise<RetrievalDealRecordsResponse.AsObject>;
    // @beta
    storageDealRecords(config: DealRecordsConfig.AsObject): Promise<StorageDealRecordsResponse.AsObject>;
    static withKeyInfo(key: KeyInfo, options?: WithKeyInfoOptions): Promise<Pow>;
    static withUserAuth(auth: UserAuth | (() => Promise<UserAuth>), options?: WithUserAuthOptions): Pow;
}

// @public
export type Private = Identity;

// @public
export class PrivateKey implements Private {
    constructor(secretKey: Uint8Array, type?: string);
    get bytes(): Uint8Array;
    canSign(): boolean;
    decrypt(ciphertext: Uint8Array): Promise<Uint8Array>;
    static fromRandom(): PrivateKey;
    static fromRawEd25519Seed(rawSeed: Uint8Array): PrivateKey;
    static fromString(str: string): PrivateKey;
    privKey: Uint8Array;
    pubKey: Uint8Array;
    get public(): PublicKey;
    seed: Uint8Array;
    sign(data: Uint8Array): Promise<Uint8Array>;
    toString(): string;
    // (undocumented)
    type: string;
}

// @public
export function privateKeyFromString(str: string): Uint8Array;

// @public
export interface Public {
    bytes: Uint8Array;
    verify(data: Uint8Array, sig: Uint8Array): Promise<boolean>;
}

// @public
export class PublicKey implements Public {
    constructor(pubKey: Uint8Array, type?: string);
    get bytes(): Uint8Array;
    encrypt(data: Uint8Array): Promise<Uint8Array>;
    static fromString(str: string): PublicKey;
    // (undocumented)
    pubKey: Uint8Array;
    toString(): string;
    // (undocumented)
    type: string;
    verify(data: Uint8Array, signature: Uint8Array): Promise<boolean>;
}

// @public
export function publicKeyBytesFromString(str: string): Uint8Array;

// @public
export function publicKeyBytesToString(bytes: Uint8Array): string;

// @public
export function publicKeyToString(key: Public): string;

export { PullIpfsPathResponse }

export { PullPathResponse }

// @public
export interface PushOptions {
    progress?: (num?: number) => void;
    root?: RootObject | string;
    signal?: AbortSignal_2;
}

export { PushPathResponse }

// @public
export interface PushPathResult {
    // (undocumented)
    path: {
        path: string;
        cid: CID;
        root: CID;
        remainder: string;
    };
    // (undocumented)
    root: string;
}

// @public
export class Query implements QueryJSON {
    constructor(ands?: CriterionJSON[], ors?: QueryJSON[], sort?: SortJSON | undefined);
    and(fieldPath: string): Criterion;
    // (undocumented)
    ands: CriterionJSON[];
    or(query: Query): Query;
    orderBy(fieldPath: string): Query;
    orderByDesc(fieldPath: string): Query;
    // (undocumented)
    ors: QueryJSON[];
    // (undocumented)
    sort?: SortJSON | undefined;
    // Warning: (ae-forgotten-export) The symbol "Criterion" needs to be exported by the entry point index.d.ts
    static where(fieldPath: string): Criterion;
}

// @public
export interface QueryJSON {
    // (undocumented)
    ands?: CriterionJSON[];
    // (undocumented)
    ors?: QueryJSON[];
    // (undocumented)
    sort?: SortJSON;
}

// @public (undocumented)
export const randomBytes: (byteLength: number) => Uint8Array;

// Warning: (ae-internal-missing-underscore) The name "readInboxMessage" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function readInboxMessage(api: GrpcConnection, id: string, ctx?: ContextInterface): Promise<{
    readAt: number;
}>;

export { ReadInboxMessageRequest }

export { ReadInboxMessageResponse }

// Warning: (ae-forgotten-export) The symbol "Transaction" needs to be exported by the entry point index.d.ts
//
// @public
export class ReadTransaction extends Transaction<ReadTransactionRequest, ReadTransactionReply> {
    constructor(context: ContextInterface, client: grpc.Client<ReadTransactionRequest, ReadTransactionReply>, threadID: ThreadID, modelName: string);
    // (undocumented)
    protected readonly client: grpc.Client<ReadTransactionRequest, ReadTransactionReply>;
    // (undocumented)
    protected readonly context: ContextInterface;
    find<T = unknown>(query: QueryJSON): Promise<Array<T>>;
    findByID<T = unknown>(ID: string): Promise<T | undefined>;
    has(IDs: string[]): Promise<boolean>;
    // (undocumented)
    protected readonly modelName: string;
    start(): Promise<void>;
    // (undocumented)
    protected readonly threadID: ThreadID;
}

export { RemovePathResponse }

export { RemoveResponse }

export { Root }

// @public
export type RootObject = {
    key: string;
    name: string;
    path: string;
    createdAt: number;
    updatedAt: number;
    thread: string;
};

export { RootResponse }

// Warning: (ae-internal-missing-underscore) The name "sendMessage" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function sendMessage(api: GrpcConnection, from: string, to: string, toBody: Uint8Array, toSignature: Uint8Array, fromBody: Uint8Array, fromSignature: Uint8Array, ctx?: ContextInterface): Promise<UserMessage>;

export { SendMessageRequest }

export { SendMessageResponse }

// @public
export interface SentboxListOptions {
    // (undocumented)
    ascending?: boolean;
    // (undocumented)
    limit?: number;
    // (undocumented)
    seek?: string;
}

export { SetPathResponse }

// Warning: (ae-internal-missing-underscore) The name "setupMailbox" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function setupMailbox(api: GrpcConnection, ctx?: ContextInterface): Promise<string>;

export { SetupMailboxRequest }

export { SetupMailboxResponse }

// @public
export interface SortJSON {
    // (undocumented)
    desc: boolean;
    // (undocumented)
    fieldPath: string;
}

// @public
export enum Status {
    // (undocumented)
    ALL = 0,
    // (undocumented)
    READ = 1,
    // (undocumented)
    UNREAD = 2
}

// @public
export enum StatusCode {
    // (undocumented)
    STATUS_CANCELED = 4,
    // (undocumented)
    STATUS_DONE = 3,
    // (undocumented)
    STATUS_EXECUTING = 1,
    // (undocumented)
    STATUS_FAILED = 2,
    // (undocumented)
    STATUS_UNSPECIFIED = 0
}

// @public
export class ThreadID {
    constructor(buf: Uint8Array);
    // (undocumented)
    readonly buf: Buffer;
    equals(o: ThreadID): boolean;
    static fromBytes(data: Uint8Array): ThreadID;
    static fromRandom(variant?: Variant, size?: number): ThreadID;
    static fromString(v: string | Uint8Array): ThreadID;
    static getEncoding(v: string): string;
    isDefined(): boolean;
    toBytes(): Buffer;
    toString(base?: name_2): string;
    static V1: number;
    // (undocumented)
    static Variant: typeof Variant;
    variant(): number;
    version(): number;
}

// @public
export class ThreadKey {
    constructor(service: Uint8Array, read?: Uint8Array | undefined);
    // (undocumented)
    canRead(): boolean;
    static fromBytes(bytes: Uint8Array): ThreadKey;
    static fromRandom(withRead?: boolean): ThreadKey;
    static fromString(s: string): ThreadKey;
    // (undocumented)
    isDefined(): boolean;
    // (undocumented)
    readonly read?: Uint8Array | undefined;
    // (undocumented)
    readonly service: Uint8Array;
    // (undocumented)
    toBytes(): Uint8Array;
    toString(): string;
}

// @public (undocumented)
export interface Update<T = unknown> {
    // (undocumented)
    action: Action;
    // (undocumented)
    collectionName: string;
    // (undocumented)
    instance: T | undefined;
    // (undocumented)
    instanceID: string;
}

// @public
export type UserAuth = {
    key: string;
    sig: string;
    msg: string;
    token?: string;
};

// @public
export interface UserMessage {
    // (undocumented)
    body: Uint8Array;
    // (undocumented)
    createdAt: number;
    // (undocumented)
    from: string;
    // (undocumented)
    id: string;
    // (undocumented)
    readAt?: number;
    // (undocumented)
    signature: Uint8Array;
    // (undocumented)
    to: string;
}

// Warning: (ae-incompatible-release-tags) The symbol "Users" is marked as @public, but its signature references "GrpcAuthentication" which is marked as @internal
//
// @public
export class Users extends GrpcAuthentication {
    static copyAuth(auth: GrpcAuthentication, options?: CopyAuthOptions): Users;
    deleteInboxMessage(id: string): Promise<void>;
    deleteSentboxMessage(id: string): Promise<void>;
    getMailboxID(): Promise<string>;
    getThread(name: string): Promise<GetThreadResponseObj>;
    getToken(identity: Identity): Promise<string>;
    getTokenChallenge(publicKey: string, callback: (challenge: Uint8Array) => Uint8Array | Promise<Uint8Array>): Promise<string>;
    listInboxMessages(opts?: InboxListOptions): Promise<Array<UserMessage>>;
    listSentboxMessages(opts?: SentboxListOptions): Promise<Array<UserMessage>>;
    listThreads(): Promise<Array<GetThreadResponseObj>>;
    readInboxMessage(id: string): Promise<{
        readAt: number;
    }>;
    sendMessage(from: Identity, to: Public, body: Uint8Array): Promise<UserMessage>;
    setupMailbox(): Promise<string>;
    watchInbox(id: string, callback: (reply?: MailboxEvent, err?: Error) => void): grpc.Request;
    watchSentbox(id: string, callback: (reply?: MailboxEvent, err?: Error) => void): grpc.Request;
    static withKeyInfo(key: KeyInfo, options?: WithKeyInfoOptions): Promise<Users>;
    withThread(threadID?: string): void;
    static withUserAuth(auth: UserAuth | (() => Promise<UserAuth>), options?: WithUserAuthOptions): Users;
}

// @public
export interface ValueJSON {
    // (undocumented)
    bool?: boolean;
    // (undocumented)
    float?: number;
    // (undocumented)
    string?: string;
}

// @public
export enum Variant {
    // (undocumented)
    AccessControlled = 112,
    // (undocumented)
    Raw = 85
}

// Warning: (ae-internal-missing-underscore) The name "watchMailbox" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function watchMailbox(api: GrpcConnection, id: string, box: 'inbox' | 'sentbox', callback: (reply?: MailboxEvent, err?: Error) => void, ctx?: ContextInterface): grpc.Request;

// @public
export const Where: typeof Criterion;

// @public
export interface WithKeyInfoOptions extends WithUserAuthOptions {
    date?: Date;
    debug?: boolean;
    host?: string;
}

// @public
export interface WithUserAuthOptions extends CopyAuthOptions {
    debug?: boolean;
    host?: string;
}

// @public
export class WriteTransaction extends Transaction<WriteTransactionRequest, WriteTransactionReply> {
    constructor(context: ContextInterface, client: grpc.Client<WriteTransactionRequest, WriteTransactionReply>, threadID: ThreadID, modelName: string);
    // (undocumented)
    protected readonly client: grpc.Client<WriteTransactionRequest, WriteTransactionReply>;
    // (undocumented)
    protected readonly context: ContextInterface;
    create<T = unknown>(values: T[]): Promise<string[]>;
    delete(IDs: string[]): Promise<void>;
    discard(): Promise<void>;
    find<T = unknown>(query: QueryJSON): Promise<Array<T>>;
    findByID<T = unknown>(ID: string): Promise<T>;
    has(IDs: string[]): Promise<boolean>;
    // (undocumented)
    protected readonly modelName: string;
    save<T = unknown>(values: T[]): Promise<void>;
    start(): Promise<void>;
    // (undocumented)
    protected readonly threadID: ThreadID;
    verify<T = unknown>(values: T[]): Promise<void>;
}


```
